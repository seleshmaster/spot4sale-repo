<ng-container *ngIf="details(); else loading">
  <p><b>Booking ID:</b> {{ details()!.id }}</p>
  <p *ngIf="details()!.store"><b>Store:</b> {{ details()!.store.name }}</p>
  <p><b>Dates:</b> {{ details()!.startDate }} → {{ details()!.endDate }}</p>
  <p *ngIf="details()!.totalPrice != null">
    <b>Total:</b> {{ details()!.totalPrice | currency:'USD':'symbol':'1.0-0' }}
  </p>
  <p>
    <b>Status:</b>
    <span class="badge"
          [class.paid]="details()!.status === 'PAID'"
          [class.pending]="details()!.status !== 'PAID'">
      {{ details()!.status }}
    </span>
  </p>

  <hr/>
  <h3>Pay now</h3>
  <form id="payment-form">
    <div id="payment-element"></div>
    <button type="submit">Pay</button>
  </form>

  <p class="muted">After payment succeeds, your booking status will update to PAID.</p>
  <p><a routerLink="/bookings">Go to My Bookings</a></p>
</ng-container>


<ng-template #loading>
  <p>Loading booking details…</p>
</ng-template>
