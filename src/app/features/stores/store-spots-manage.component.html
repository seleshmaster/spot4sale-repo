<h2>Manage Spots</h2>

<form #f="ngForm" (ngSubmit)="add(f)" class="row">
  <label>
    <span>Price/day (USD)</span>
    <input type="number" step="0.01" name="pricePerDay" [(ngModel)]="price" required min="0.5">
  </label>
  <label>
    <span>Available</span>
    <select name="available" [(ngModel)]="available">
      <option [ngValue]="true">Yes</option>
      <option [ngValue]="false">No</option>
    </select>
  </label>
  <button type="submit" [disabled]="f.invalid || busy()">Add Spot</button>
  <span class="error" *ngIf="err()">{{ err() }}</span>
</form>

<ul class="list">
  <li *ngFor="let s of spots()">
    <span class="price">${{ s.pricePerDay }}/day</span>
    <span class="tag" [class.off]="!s.available">{{ s.available ? 'Available' : 'Unavailable' }}</span>

    <div class="actions">
      <!-- inline edit price -->
      <input
        type="number"
        step="0.01"
        [ngModel]="s.pricePerDay"
        (ngModelChange)="updatePrice(s, $event)"
        min="0.5">
      <button type="button" (click)="toggle(s)">{{ s.available ? 'Disable' : 'Enable' }}</button>
      <button type="button" class="danger" (click)="remove(s)">Delete</button>
    </div>
  </li>
</ul>
