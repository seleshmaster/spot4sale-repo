<form #f="ngForm" (ngSubmit)="submit(f)" class="form">
  <h2>Update Store</h2>

  <label>
    <span>Name</span>
    <input type="text" name="name" [(ngModel)]="model.name" required />
  </label>

  <label>
    <span>Address</span>
    <input type="text" name="address" [(ngModel)]="model.address" required />
  </label>

  <div class="row">
    <label>
      <span>City</span>
      <input type="text" name="city" [(ngModel)]="model.city" required />
    </label>

    <label>
      <span>ZIP</span>
      <input type="text" name="zipCode" [(ngModel)]="model.zipCode" required />
    </label>
  </div>

  <label>
    <span>Description (optional)</span>
    <textarea name="description" [(ngModel)]="model.description" placeholder="Describe your store"></textarea>
  </label>

  <label>
    <span>Upload Images (optional, max 3)</span>
    <input type="file" (change)="onFilesSelected($event)" multiple accept="image/*" />
  </label>

  <div class="image-preview" *ngIf="previewImages.length">
    <div *ngFor="let img of previewImages; let i = index" class="preview-item">
      <img [src]="img" alt="preview" />
      <button type="button" (click)="removeImage(i)">Remove</button>
    </div>
  </div>

  <div class="actions">
    <button type="submit" [disabled]="f.invalid || busy()">Update</button>
    <button type="button" (click)="cancel()">Cancel</button>
    <span *ngIf="error()" class="error">{{ error() }}</span>
  </div>
</form>
